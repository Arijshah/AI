"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[624],{8453(n,i,e){e.d(i,{R:()=>l,x:()=>s});var t=e(6540);const o={},r=t.createContext(o);function l(n){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function s(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:l(n.components),t.createElement(r.Provider,{value:i},n.children)}},9334(n,i,e){e.r(i),e.d(i,{assets:()=>a,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"physical-ai/the-robotic-nervous-system-ros2/urdf-and-humanoid-robot-modeling","title":"URDF and Humanoid Robot Modeling","description":"Overview","source":"@site/docs/physical-ai/the-robotic-nervous-system-ros2/urdf-and-humanoid-robot-modeling.md","sourceDirName":"physical-ai/the-robotic-nervous-system-ros2","slug":"/physical-ai/the-robotic-nervous-system-ros2/urdf-and-humanoid-robot-modeling","permalink":"/AI/docs/physical-ai/the-robotic-nervous-system-ros2/urdf-and-humanoid-robot-modeling","draft":false,"unlisted":false,"editUrl":"https://github.com/arijh/physical-ai-book/tree/main/packages/create-docusaurus/templates/shared/docs/physical-ai/the-robotic-nervous-system-ros2/urdf-and-humanoid-robot-modeling.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"URDF and Humanoid Robot Modeling","title":"URDF and Humanoid Robot Modeling"},"sidebar":"docs","previous":{"title":"ROS 2 Nodes and Parameters","permalink":"/AI/docs/physical-ai/the-robotic-nervous-system-ros2/ros2-nodes-and-parameters"},"next":{"title":"Practical ROS 2 Workflows","permalink":"/AI/docs/physical-ai/the-robotic-nervous-system-ros2/practical-ros2-workflows"}}');var o=e(4848),r=e(8453);const l={sidebar_label:"URDF and Humanoid Robot Modeling",title:"URDF and Humanoid Robot Modeling"},s="URDF and Humanoid Robot Modeling",a={},m=[{value:"Overview",id:"overview",level:2},{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Hands-on Steps",id:"hands-on-steps",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Code Examples",id:"code-examples",level:2},{value:"Small Simulation",id:"small-simulation",level:2},{value:"Quick Recap",id:"quick-recap",level:2}];function d(n){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"urdf-and-humanoid-robot-modeling",children:"URDF and Humanoid Robot Modeling"})}),"\n",(0,o.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(i.p,{children:"URDF (Unified Robot Description Format) is the standard way to describe robot models in ROS 2. It defines the physical and visual properties of a robot, including its links (rigid bodies), joints (connections between links), and other properties like mass, inertia, and visual appearance. For humanoid robots, URDF becomes particularly important as it captures the complex kinematic structure needed for human-like movement."}),"\n",(0,o.jsx)(i.p,{children:"This lesson covers creating detailed URDF models for humanoid robots and integrating them with ROS 2 for simulation and control."}),"\n",(0,o.jsx)(i.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,o.jsx)(i.p,{children:"By the end of this lesson, you will be able to:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Create URDF files for simple and complex robots"}),"\n",(0,o.jsx)(i.li,{children:"Define links, joints, and materials in URDF"}),"\n",(0,o.jsx)(i.li,{children:"Model humanoid robot kinematics with proper joint limits and dynamics"}),"\n",(0,o.jsx)(i.li,{children:"Visualize robot models in RViz"}),"\n",(0,o.jsx)(i.li,{children:"Integrate URDF with robot state publishers for joint visualization"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"hands-on-steps",children:"Hands-on Steps"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Basic URDF Creation"}),": Create a simple robot model with links and joints"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Humanoid Structure"}),": Model a basic humanoid robot with limbs"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Visual and Collision Properties"}),": Add visual and collision elements"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Kinematic Chain Setup"}),": Create proper kinematic chains for limbs"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Integration with ROS 2"}),": Use robot state publisher to visualize the model"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Understanding of ROS 2 nodes and topics"}),"\n",(0,o.jsx)(i.li,{children:"Basic knowledge of 3D coordinate systems and transformations"}),"\n",(0,o.jsx)(i.li,{children:"Understanding of robot kinematics concepts"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,o.jsx)(i.p,{children:"Let's start by creating a basic URDF model for a simple robot:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'\x3c!-- basic_robot.urdf --\x3e\n<?xml version="1.0"?>\n<robot name="basic_robot">\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.6" radius="0.2"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="0.6" radius="0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="10"/>\n      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Sensor Mount --\x3e\n  <link name="sensor_mount">\n    <visual>\n      <geometry>\n        <box size="0.1 0.1 0.1"/>\n      </geometry>\n      <material name="red">\n        <color rgba="0.8 0 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.1 0.1 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.1"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint connecting base to sensor mount --\x3e\n  <joint name="sensor_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="sensor_mount"/>\n    <origin xyz="0.3 0 0.3" rpy="0 0 0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,o.jsx)(i.p,{children:"Now let's create a more complex humanoid robot model:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'\x3c!-- humanoid_robot.urdf --\x3e\n<?xml version="1.0"?>\n<robot name="humanoid_robot">\n  \x3c!-- Materials --\x3e\n  <material name="black">\n    <color rgba="0.0 0.0 0.0 1.0"/>\n  </material>\n  <material name="blue">\n    <color rgba="0.0 0.0 0.8 1.0"/>\n  </material>\n  <material name="green">\n    <color rgba="0.0 0.8 0.0 1.0"/>\n  </material>\n  <material name="grey">\n    <color rgba="0.2 0.2 0.2 1.0"/>\n  </material>\n  <material name="orange">\n    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>\n  </material>\n  <material name="brown">\n    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>\n  </material>\n  <material name="red">\n    <color rgba="0.8 0.0 0.0 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Base Footprint --\x3e\n  <link name="base_footprint">\n    <visual>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.001 0.001 0.001"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.001 0.001 0.001"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.0001"/>\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Base Link (Pelvis) --\x3e\n  <link name="base_link">\n    <visual>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.2"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="10.0"/>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <inertia ixx="0.116666666667" ixy="0.0" ixz="0.0" iyy="0.166666666667" iyz="0.0" izz="0.166666666667"/>\n    </inertial>\n  </link>\n\n  <joint name="base_joint" type="fixed">\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\n    <parent link="base_footprint"/>\n    <child link="base_link"/>\n  </joint>\n\n  \x3c!-- Torso --\x3e\n  <link name="torso">\n    <visual>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.15 0.6"/>\n      </geometry>\n      <material name="grey"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.25 0.15 0.6"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="8.0"/>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <inertia ixx="0.313333333333" ixy="0.0" ixz="0.0" iyy="0.341666666667" iyz="0.0" izz="0.0866666666667"/>\n    </inertial>\n  </link>\n\n  <joint name="torso_joint" type="fixed">\n    <origin xyz="0 0 0.2" rpy="0 0 0"/>\n    <parent link="base_link"/>\n    <child link="torso"/>\n  </joint>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\n      <inertia ixx="0.0192" ixy="0.0" ixz="0.0" iyy="0.0192" iyz="0.0" izz="0.0192"/>\n    </inertial>\n  </link>\n\n  <joint name="neck_joint" type="revolute">\n    <origin xyz="0 0 0.6" rpy="0 0 0"/>\n    <parent link="torso"/>\n    <child link="head"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.5" upper="0.5" effort="100" velocity="1"/>\n  </joint>\n\n  \x3c!-- Left Arm --\x3e\n  <link name="left_shoulder">\n    <visual>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_shoulder_joint" type="revolute">\n    <origin xyz="0.1 0.1 0.3" rpy="0 0 0"/>\n    <parent link="torso"/>\n    <child link="left_shoulder"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="50" velocity="2"/>\n  </joint>\n\n  <link name="left_upper_arm">\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.005625" ixy="0.0" ixz="0.0" iyy="0.005625" iyz="0.0" izz="0.00024"/>\n    </inertial>\n  </link>\n\n  <joint name="left_elbow_joint" type="revolute">\n    <origin xyz="0 0.1 -0.1" rpy="0 0 0"/>\n    <parent link="left_shoulder"/>\n    <child link="left_upper_arm"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-2.0" upper="1.0" effort="50" velocity="2"/>\n  </joint>\n\n  <link name="left_forearm">\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.8"/>\n      <inertia ixx="0.00384" ixy="0.0" ixz="0.0" iyy="0.00384" iyz="0.0" izz="0.000144"/>\n    </inertial>\n  </link>\n\n  <joint name="left_wrist_joint" type="revolute">\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <parent link="left_upper_arm"/>\n    <child link="left_forearm"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="20" velocity="2"/>\n  </joint>\n\n  \x3c!-- Right Arm (mirror of left) --\x3e\n  <link name="right_shoulder">\n    <visual>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_shoulder_joint" type="revolute">\n    <origin xyz="0.1 -0.1 0.3" rpy="0 0 0"/>\n    <parent link="torso"/>\n    <child link="right_shoulder"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="50" velocity="2"/>\n  </joint>\n\n  <link name="right_upper_arm">\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.04"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.005625" ixy="0.0" ixz="0.0" iyy="0.005625" iyz="0.0" izz="0.00024"/>\n    </inertial>\n  </link>\n\n  <joint name="right_elbow_joint" type="revolute">\n    <origin xyz="0 -0.1 -0.1" rpy="0 0 0"/>\n    <parent link="right_shoulder"/>\n    <child link="right_upper_arm"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-2.0" upper="1.0" effort="50" velocity="2"/>\n  </joint>\n\n  <link name="right_forearm">\n    <visual>\n      <origin xyz="0 0 -0.12" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.12" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.24" radius="0.03"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.8"/>\n      <inertia ixx="0.00384" ixy="0.0" ixz="0.0" iyy="0.00384" iyz="0.0" izz="0.000144"/>\n    </inertial>\n  </link>\n\n  <joint name="right_wrist_joint" type="revolute">\n    <origin xyz="0 0 -0.24" rpy="0 0 0"/>\n    <parent link="right_upper_arm"/>\n    <child link="right_forearm"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="20" velocity="2"/>\n  </joint>\n\n  \x3c!-- Left Leg --\x3e\n  <link name="left_hip">\n    <visual>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n      <material name="red"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.0015" ixy="0.0" ixz="0.0" iyy="0.0015" iyz="0.0" izz="0.0018"/>\n    </inertial>\n  </link>\n\n  <joint name="left_hip_joint" type="revolute">\n    <origin xyz="-0.05 0.08 0" rpy="0 0 0"/>\n    <parent link="base_link"/>\n    <child link="left_hip"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="100" velocity="1"/>\n  </joint>\n\n  <link name="left_thigh">\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.05"/>\n      </geometry>\n      <material name="red"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.5"/>\n      <inertia ixx="0.0333333333333" ixy="0.0" ixz="0.0" iyy="0.0333333333333" iyz="0.0" izz="0.003125"/>\n    </inertial>\n  </link>\n\n  <joint name="left_knee_joint" type="revolute">\n    <origin xyz="0 0.1 -0.1" rpy="0 0 0"/>\n    <parent link="left_hip"/>\n    <child link="left_thigh"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="2.0" effort="100" velocity="1"/>\n  </joint>\n\n  <link name="left_shin">\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.04"/>\n      </geometry>\n      <material name="red"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.04"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.8"/>\n      <inertia ixx="0.024" ixy="0.0" ixz="0.0" iyy="0.024" iyz="0.0" izz="0.00144"/>\n    </inertial>\n  </link>\n\n  <joint name="left_ankle_joint" type="revolute">\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <parent link="left_thigh"/>\n    <child link="left_shin"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.785" upper="0.785" effort="50" velocity="1"/>\n  </joint>\n\n  <link name="left_foot">\n    <visual>\n      <origin xyz="0 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.000525" ixy="0.0" ixz="0.0" iyy="0.0010625" iyz="0.0" izz="0.00125"/>\n    </inertial>\n  </link>\n\n  <joint name="left_foot_joint" type="fixed">\n    <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n    <parent link="left_shin"/>\n    <child link="left_foot"/>\n  </joint>\n\n  \x3c!-- Right Leg (mirror of left) --\x3e\n  <link name="right_hip">\n    <visual>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n      <material name="red"/>\n    </visual>\n    <collision>\n      <origin xyz="0 -0.05 0" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.0015" ixy="0.0" ixz="0.0" iyy="0.0015" iyz="0.0" izz="0.0018"/>\n    </inertial>\n  </link>\n\n  <joint name="right_hip_joint" type="revolute">\n    <origin xyz="-0.05 -0.08 0" rpy="0 0 0"/>\n    <parent link="base_link"/>\n    <child link="right_hip"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.785" upper="0.785" effort="100" velocity="1"/>\n  </joint>\n\n  <link name="right_thigh">\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.05"/>\n      </geometry>\n      <material name="red"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.5"/>\n      <inertia ixx="0.0333333333333" ixy="0.0" ixz="0.0" iyy="0.0333333333333" iyz="0.0" izz="0.003125"/>\n    </inertial>\n  </link>\n\n  <joint name="right_knee_joint" type="revolute">\n    <origin xyz="0 -0.1 -0.1" rpy="0 0 0"/>\n    <parent link="right_hip"/>\n    <child link="right_thigh"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="2.0" effort="100" velocity="1"/>\n  </joint>\n\n  <link name="right_shin">\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.04"/>\n      </geometry>\n      <material name="red"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="1.57 0 0"/>\n      <geometry>\n        <cylinder length="0.4" radius="0.04"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.8"/>\n      <inertia ixx="0.024" ixy="0.0" ixz="0.0" iyy="0.024" iyz="0.0" izz="0.00144"/>\n    </inertial>\n  </link>\n\n  <joint name="right_ankle_joint" type="revolute">\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <parent link="right_thigh"/>\n    <child link="right_shin"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.785" upper="0.785" effort="50" velocity="1"/>\n  </joint>\n\n  <link name="right_foot">\n    <visual>\n      <origin xyz="0 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.000525" ixy="0.0" ixz="0.0" iyy="0.0010625" iyz="0.0" izz="0.00125"/>\n    </inertial>\n  </link>\n\n  <joint name="right_foot_joint" type="fixed">\n    <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n    <parent link="right_shin"/>\n    <child link="right_foot"/>\n  </joint>\n</robot>\n'})}),"\n",(0,o.jsx)(i.p,{children:"Now let's create a ROS 2 node to publish joint states for visualization:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-python",children:"# joint_state_publisher.py\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom std_msgs.msg import Header\nimport math\nimport random\n\nclass JointStatePublisher(Node):\n    \"\"\"\n    Node to publish joint states for URDF visualization\n    \"\"\"\n    def __init__(self):\n        super().__init__('joint_state_publisher')\n\n        # Create publisher for joint states\n        self.joint_pub = self.create_publisher(JointState, 'joint_states', 10)\n\n        # Timer for publishing joint states\n        self.timer = self.create_timer(0.1, self.publish_joint_states)\n\n        # Joint names for our humanoid robot\n        self.joint_names = [\n            'neck_joint',\n            'left_shoulder_joint', 'left_elbow_joint', 'left_wrist_joint',\n            'right_shoulder_joint', 'right_elbow_joint', 'right_wrist_joint',\n            'left_hip_joint', 'left_knee_joint', 'left_ankle_joint',\n            'right_hip_joint', 'right_knee_joint', 'right_ankle_joint'\n        ]\n\n        # Initialize joint positions\n        self.joint_positions = [0.0] * len(self.joint_names)\n\n        # For animation\n        self.time = 0.0\n\n        self.get_logger().info(\"Joint State Publisher initialized\")\n\n    def publish_joint_states(self):\n        # Create joint state message\n        msg = JointState()\n        msg.name = self.joint_names\n\n        # Update time for animation\n        self.time += 0.01\n\n        # Animate some joints for demonstration\n        self.joint_positions[0] = 0.2 * math.sin(self.time)  # neck\n        self.joint_positions[1] = 0.5 * math.sin(self.time * 0.5)  # left shoulder\n        self.joint_positions[2] = 0.8 * math.sin(self.time * 0.7)  # left elbow\n        self.joint_positions[4] = 0.5 * math.sin(self.time * 0.5 + math.pi)  # right shoulder (opposite)\n        self.joint_positions[5] = 0.8 * math.sin(self.time * 0.7 + math.pi)  # right elbow (opposite)\n\n        # Leg movements\n        self.joint_positions[7] = 0.2 * math.sin(self.time * 0.3)  # left hip\n        self.joint_positions[8] = 1.0 + 0.3 * math.sin(self.time * 0.3 + math.pi/2)  # left knee\n        self.joint_positions[10] = 0.2 * math.sin(self.time * 0.3 + math.pi)  # right hip (opposite)\n        self.joint_positions[11] = 1.0 + 0.3 * math.sin(self.time * 0.3 + 3*math.pi/2)  # right knee (opposite)\n\n        msg.position = self.joint_positions\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.header.frame_id = \"base_link\"\n\n        self.joint_pub.publish(msg)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    joint_publisher = JointStatePublisher()\n\n    try:\n        rclpy.spin(joint_publisher)\n    except KeyboardInterrupt:\n        joint_publisher.get_logger().info(\"Joint State Publisher stopped by user\")\n    finally:\n        joint_publisher.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,o.jsx)(i.h2,{id:"small-simulation",children:"Small Simulation"}),"\n",(0,o.jsx)(i.p,{children:"Let's create a simple inverse kinematics example that demonstrates how to control the humanoid robot arms:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-python",children:"# humanoid_ik_controller.py\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom geometry_msgs.msg import Point\nfrom std_msgs.msg import Header\nimport math\nimport numpy as np\n\nclass HumanoidIKController(Node):\n    \"\"\"\n    Simple inverse kinematics controller for humanoid arms\n    \"\"\"\n    def __init__(self):\n        super().__init__('humanoid_ik_controller')\n\n        # Publishers\n        self.joint_pub = self.create_publisher(JointState, 'joint_states', 10)\n        self.target_pub = self.create_publisher(Point, 'target_position', 10)\n\n        # Timers\n        self.control_timer = self.create_timer(0.05, self.control_loop)\n\n        # Joint names\n        self.joint_names = [\n            'left_shoulder_joint', 'left_elbow_joint', 'left_wrist_joint',\n            'right_shoulder_joint', 'right_elbow_joint', 'right_wrist_joint'\n        ]\n\n        # Initial joint positions (in radians)\n        self.joint_positions = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n\n        # Arm lengths (approximate for our URDF)\n        self.upper_arm_length = 0.3\n        self.forearm_length = 0.24\n\n        # Target positions (x, y, z in robot coordinate frame)\n        self.left_target = np.array([0.3, 0.2, 0.3])  # Left arm target\n        self.right_target = np.array([0.3, -0.2, 0.3])  # Right arm target\n\n        # Animation time\n        self.time = 0.0\n\n        self.get_logger().info(\"Humanoid IK Controller initialized\")\n\n    def calculate_ik_2dof(self, target_x, target_y, l1, l2):\n        \"\"\"\n        Calculate inverse kinematics for 2-DOF arm\n        target_x, target_y: desired end effector position\n        l1, l2: lengths of upper arm and forearm\n        Returns: (shoulder_angle, elbow_angle)\n        \"\"\"\n        # Distance from shoulder to target\n        dist = math.sqrt(target_x**2 + target_y**2)\n\n        # Check if target is reachable\n        if dist > l1 + l2:\n            # Target is too far, extend arm fully\n            shoulder_angle = math.atan2(target_y, target_x)\n            elbow_angle = 0.0\n        elif dist < abs(l1 - l2):\n            # Target is too close, fold arm\n            shoulder_angle = math.atan2(target_y, target_x)\n            elbow_angle = math.pi\n        else:\n            # Calculate elbow angle using law of cosines\n            cos_elbow = (l1**2 + l2**2 - dist**2) / (2 * l1 * l2)\n            cos_elbow = max(-1, min(1, cos_elbow))  # Clamp to [-1, 1]\n            elbow_angle = math.pi - math.acos(cos_elbow)\n\n            # Calculate shoulder angle\n            k1 = l1 + l2 * math.cos(elbow_angle)\n            k2 = l2 * math.sin(elbow_angle)\n            shoulder_angle = math.atan2(target_y, target_x) - math.atan2(k2, k1)\n\n        return shoulder_angle, elbow_angle\n\n    def control_loop(self):\n        # Animate targets in circular motion\n        self.time += 0.02\n\n        # Move left target in a circle\n        self.left_target[0] = 0.3 + 0.1 * math.cos(self.time)\n        self.left_target[1] = 0.2 + 0.1 * math.sin(self.time * 1.3)\n\n        # Move right target in a different pattern\n        self.right_target[0] = 0.3 + 0.1 * math.cos(self.time * 1.2)\n        self.right_target[1] = -0.2 + 0.1 * math.sin(self.time)\n\n        # Calculate IK for left arm (X-Z plane for simplicity)\n        left_shoulder, left_elbow = self.calculate_ik_2dof(\n            self.left_target[0], self.left_target[2],\n            self.upper_arm_length, self.forearm_length\n        )\n\n        # Calculate IK for right arm\n        right_shoulder, right_elbow = self.calculate_ik_2dof(\n            self.right_target[0], self.right_target[2],\n            self.upper_arm_length, self.forearm_length\n        )\n\n        # Update joint positions\n        self.joint_positions[0] = left_shoulder  # left shoulder\n        self.joint_positions[1] = left_elbow     # left elbow\n        self.joint_positions[2] = 0.0           # left wrist (not used in 2-DOF)\n        self.joint_positions[3] = right_shoulder  # right shoulder\n        self.joint_positions[4] = right_elbow     # right elbow\n        self.joint_positions[5] = 0.0            # right wrist (not used in 2-DOF)\n\n        # Create and publish joint state message\n        msg = JointState()\n        msg.name = self.joint_names\n        msg.position = self.joint_positions\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.header.frame_id = \"base_link\"\n\n        self.joint_pub.publish(msg)\n\n        # Publish target positions for visualization\n        left_target_msg = Point()\n        left_target_msg.x = float(self.left_target[0])\n        left_target_msg.y = float(self.left_target[1])\n        left_target_msg.z = float(self.left_target[2])\n        self.target_pub.publish(left_target_msg)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    ik_controller = HumanoidIKController()\n\n    try:\n        rclpy.spin(ik_controller)\n    except KeyboardInterrupt:\n        ik_controller.get_logger().info(\"Humanoid IK Controller stopped by user\")\n    finally:\n        ik_controller.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,o.jsx)(i.h2,{id:"quick-recap",children:"Quick Recap"}),"\n",(0,o.jsx)(i.p,{children:"In this lesson, we've covered:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"URDF Basics"}),": Creating links, joints, visual elements, and inertial properties"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Humanoid Modeling"}),": Building a complex humanoid robot with proper kinematic chains"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Joint Types"}),": Understanding different joint types (revolute, fixed) and their parameters"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Physical Properties"}),": Adding mass, inertia, and collision properties for realistic simulation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Integration"}),": Connecting URDF models with ROS 2 for visualization and control"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Inverse Kinematics"}),": Simple examples of controlling robot limbs through mathematical models"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"URDF is essential for humanoid robotics as it provides a standardized way to describe the complex kinematic structure of human-like robots. The proper definition of links, joints, and their physical properties is crucial for accurate simulation and control."}),"\n",(0,o.jsx)(i.p,{children:"In the next lesson, we'll explore practical ROS 2 workflows and best practices for building robust robotic applications."})]})}function g(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);